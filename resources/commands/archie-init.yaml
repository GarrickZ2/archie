title: Init
description: Initialize Archie project workspace and normalize existing documents
tags: [initialize, setup, workspace]
category: Archie
content: |
  ## Purpose
  Bootstrap an Archie project workspace by normalizing content into Archie schemas and producing a Feature Registry.

  `init` is the first command in the workflow.

  ---

  ## When to Use

  - The folder has some docs, but not in Archie format.
  - The user has background/feature notes (free-form) and wants Archie to structure them.

  ---

  ## Inputs

  ### User Inputs (Interactive)
  Minimum required:
  - Project name (optional but recommended)
  - A list of features (names/keys) **or** enough background text for Archie to derive a feature list

  Optional but strongly recommended:
  - Timeline / milestones
  - Tech stack
  - Design hard rules (e.g., "Thrift only")
  - Stakeholders / owners
  - Any existing docs or links that should be referenced

  ### Files (If Present)
  `init` may read and reuse existing content from:
  - `background.md` (if present)
  - any existing feature notes (if present)
  - any existing "requirements"/"prd"/"design" markdown files (if present)

  ---

  ## Outputs (Files Created/Updated)

  `init` must ensure the workspace contains (at minimum):

  ### Top-level
  - `background.md`

  ### Features
  - `features/README.md`
  - `features/<feature-key>.md` (one per feature)

  ---

  ## Behavior Requirements

  1. **Create Missing Files** (non-destructive) - Create required files/directories with standard templates. All files must strictly follow `.archie/docs/schema.md`.

  2. **Normalize Existing Content** (safe rewrite) - Preserve original content (copy to "Legacy" section or `assets/refs/`), then rewrite to standard Archie template.

  3. **Establish the Feature Set** - Determine feature set from: user-provided list, existing docs, or Archie-derived (must confirm with user). Output `features/README.md` registry and `features/<feature-key>.md` for each feature.

  4. **Assign Initial Status** - Default to `NOT_REVIEWED` for each feature.

  5. **Correction Mode** - Refuse other commands until `init` succeeds.

  6. **Format Compliance** - All operations must strictly follow `.archie/docs/schema.md`. Schema validation is mandatory.

  ---

  ## Success Criteria

  `init` succeeds only if:
  - All required files exist
  - Feature registry exists and lists at least one feature (unless user explicitly says "no features yet")
  - Each feature has a file scaffold
  - No destructive loss of existing user content occurred (legacy preserved)

  ---
