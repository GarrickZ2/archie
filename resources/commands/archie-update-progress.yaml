title: Update Progress
description: Update feature implementation progress and execution tasks
tags: [progress, implementation, execution]
category: Archie
content: |
  ## Purpose
  Advance a feature from design into execution by updating:
  1. **Feature progress (status)**
  2. **Execution plan (tasks + timeline estimate)**

  This command bridges Archie (design-time) with real implementation work. It is explicit, driven by the user's note, and intentionally simple (no heavy inference).

  ---

  ## Allowed Status Transitions (Only Forward)

  - `DESIGNED` → `IMPLEMENTING`
  - `SPEC_READY` → `IMPLEMENTING`
  - `IMPLEMENTING` → `FINISHED`

  Any other transition is **forbidden**.

  ---

  ## Reads

  - `features/<feature-key>.md`
  - `workflow/<feature-key>/*` (required for planning)
  - `spec/<feature-key>.spec.md` (if present)
  - `tasks.md`
  - `deployment.md` (optional: only for warnings)

  ---

  ## Writes

  - `features/<feature-key>.md` - Status (Value / Last Updated / Reason), Changelog (append-only)
  - `tasks.md` - create/update tasks under feature section, update checkboxes and logs (append-only)

  ---

  ## User Input (Required)

  The user must provide a short note describing progress intent, e.g.:
  - "Implementation started, core flow done, edge cases WIP"
  - "All tasks completed, verified in prod"

  This note is treated as **authoritative intent**, not evidence.

  Optional additional inputs (recommended):
  - desired timeframe (e.g., "finish in 2 weeks")
  - number of engineers / owners
  - constraints (holidays, oncall, code freeze)

  ---

  ## Behavior Rules

  1. **No Backward Transitions** - Archie must refuse any attempt to move status backward.

  2. **Task Generation (Planning Mode)** - If feature is `DESIGNED` or `SPEC_READY` and tasks are missing/incomplete, generate initial execution plan in `tasks.md`:
     - Each task includes: checkbox status, owner (placeholder ok), ETA (optional), dependencies (optional), description, definition of done, append-only log

  3. **Timeline Estimate (Lightweight)** - Produce simple timeline estimate in `tasks.md` under feature section:
     - overall estimate range (e.g., 3-5 days, 1-2 weeks)
     - key milestones (design done; implement; test; rollout)
     - critical path dependencies (if any)
     - risks (top 3)

  4. **Synchronize Task Status with Feature Status**
     - When moving to `IMPLEMENTING`: Mark first wave of tasks as `DOING` (add log line), keep remaining as `TODO`
     - When moving to `FINISHED`: Check for unfinished tasks. If exist → warn user. If user confirms → proceed, else refuse.

  5. **No Design Changes** - Must not modify: requirements/scope/AC, workflow diagrams, API/IDL, storage schema, spec content. If planning reveals missing design details: create Blocker or request `revise/design/spec`.

  6. **Auditability** - Feature changelog must record: previous status → new status, user note, date/time. Tasks must record: creation, status shifts, timeline estimate assumptions.

  ---

  ## Success Criteria

  `update-progress` succeeds only if:
  - the transition is valid
  - feature status and changelog are updated
  - tasks exist and are actionable (or clear rationale written)
  - a lightweight timeline estimate exists in `tasks.md`

  ---
